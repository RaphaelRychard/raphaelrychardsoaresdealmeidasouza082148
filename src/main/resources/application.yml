server:
  port: ${SERVER_PORT:8080}

spring:
  application:
    name: artist-album-api

  datasource:
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/artist_album?connectTimeout=2&socketTimeout=2}
    username: ${SPRING_DATASOURCE_USERNAME:admin}
    password: ${SPRING_DATASOURCE_PASSWORD:admin123456}
    hikari:
      connection-timeout: 2000
      validation-timeout: 1500

  jpa:
    open-in-view: false
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        jdbc:
          time_zone: UTC

  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true

security:
  token:
    secret: ${SECURITY_TOKEN_SECRET:f3c9e7b2-4a6d-4e8f-9c1a-8d2b5f7a1c34}

app:
  allowed-origins: ${APP_ALLOWED_ORIGINS:http://localhost:3000,http://localhost:3001,http://127.0.0.1:5500}
  health:
    websocket-url: ${APP_HEALTH_WEBSOCKET_URL:ws://localhost:${server.port}/ws}

rate:
  limit:
    requests: ${RATE_LIMIT_REQUESTS:10}
    window: ${RATE_LIMIT_WINDOW:60000}

minio:
  url: ${MINIO_URL:http://localhost:9000}
  access-key: ${MINIO_ACCESS_KEY:minioadmin}
  secret-key: ${MINIO_SECRET_KEY:minioadmin}
  bucket-name: ${MINIO_BUCKET_NAME:album-covers}
  presigned-url-expiration: ${MINIO_PRESIGNED_URL_EXPIRATION:1800}

management:
  endpoints:
    web:
      base-path: /actuator
      exposure:
        include: health

  endpoint:
    health:
      probes:
        enabled: true
      show-details: never
      group:
        liveness:
          include: livenessState,ping
        readiness:
          include: readinessState,db,minio,websocket

  health:
    livenessstate:
      enabled: true
    readinessstate:
      enabled: true